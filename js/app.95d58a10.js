(function(e){function a(a){for(var r,s,c=a[0],i=a[1],l=a[2],u=0,p=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],r=!0,c=1;c<t.length;c++){var i=t[c];0!==n[i]&&(r=!1)}r&&(o.splice(a--,1),e=s(s.s=t[0]))}return e}var r={},n={app:0},o=[];function s(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)s.d(t,r,function(a){return e[a]}.bind(null,r));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="/easy-csv-aggregator/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var d=i;o.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"49b1":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-main",[t("v-card",{attrs:{elevation:"2"}},[t("h1",[e._v("Easy Csv Aggregator"),t("small",[e._v("("),t("a",{attrs:{href:"https://github.com/kjranyone/easy-csv-aggregator",target:"_blank"}},[e._v("GitHub")]),e._v(")")])]),t("v-tabs",{attrs:{"fixed-tabs":"","background-color":"indigo",dark:""},model:{value:e.searchTab,callback:function(a){e.searchTab=a},expression:"searchTab"}},[t("v-tabs-slider",{attrs:{color:"yellow"}}),e._l(e.searchItems,(function(a){return t("v-tab",{key:a},[e._v(" "+e._s(a)+" ")])}))],2),t("v-tabs-items",{model:{value:e.searchTab,callback:function(a){e.searchTab=a},expression:"searchTab"}},e._l(e.searchItems,(function(a){return t("v-tab-item",{key:a},[a===e.searchItems[0]?t("v-container",[t("v-row",{staticClass:"text-center",on:{dragover:function(e){e.preventDefault()},dragenter:e.onDragEnter,dragleave:e.onDragLeave,drop:e.onDrop}},[t("v-file-input",{attrs:{color:"deep-purple accent-4",counter:"",label:"File input",multiple:"",placeholder:"Select your files","prepend-icon":"mdi-paperclip",outlined:"",accept:".csv","show-size":1e3,"background-color":e.isDragging?"blue":"null"},on:{change:e.applyChanges},scopedSlots:e._u([{key:"selection",fn:function(a){var r=a.index,n=a.text;return[r<2?t("v-chip",{attrs:{color:"deep-purple accent-4",dark:"",label:"",small:""}},[e._v(e._s(n))]):2===r?t("span",{staticClass:"overline grey--text text--darken-3 mx-2"},[e._v("+"+e._s(e.files.length-2)+" File(s)")]):e._e()]}}],null,!0),model:{value:e.files,callback:function(a){e.files=a},expression:"files"}})],1),e.csvDataList.length>=2?[t("h3",[e._v("Select Join Key")]),t("v-row",e._l(e.csvDataList,(function(a,r){return t("v-col",{key:r,attrs:{cols:"6",sm:"6",md:"6"}},[e._v(" name: "+e._s(e.files[r].name)+" "),t("v-radio-group",{attrs:{column:""},on:{change:e.applyHeaderKeyChanges},model:{value:e.selectedHeaderKey[r],callback:function(a){e.$set(e.selectedHeaderKey,r,a)},expression:"selectedHeaderKey[index]"}},e._l(e.csvDataHeaders[r],(function(e){return t("v-radio",{key:e,attrs:{label:e,color:"indigo",value:e}})})),1)],1)})),1)]:e._e(),e.readyForAggregate?[t("h3",[e._v("Options")]),t("p",{staticClass:"text-center"},[t("v-checkbox",{attrs:{label:"Encode UTF to SJIS"},model:{value:e.encodeToSJIS,callback:function(a){e.encodeToSJIS=a},expression:"encodeToSJIS"}})],1),t("p",[t("v-btn",{attrs:{color:"primary"},on:{click:e.aggregate}},[e._v("AGGREGATE AND DOWNLOAD CSV")])],1)]:e._e()],2):a===e.searchItems[1]?[t("ul",[t("li",[e._v(" Aggreagte Data From two CSV files. ")])])]:e._e()],2)})),1)],1),t("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:e.fab,expression:"fab"}],attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"primary"},on:{click:function(a){return e.$vuetify.goTo(0)}}},[t("v-icon",[e._v("mdi-chevron-up")])],1)],1)],1)},o=[],s=(t("d3b7"),t("159b"),t("b64b"),t("d81d"),t("4de4"),t("5cc6"),t("907a"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("f751")),c=t("10bf"),i=t.n(c);t("49b1"),r["a"].use(s["a"]);var l={name:"App",components:{},data:function(){return{fab:!1,searchTab:null,searchItems:["Inport CSV","readme"],csvDataList:[],csvDataHeaders:[],selectedHeaderKey:{},csvReadCompleted:!1,readyForAggregate:!1,encodeToSJIS:!1,files:[],isDragging:!1,dragCount:0}},methods:{onScroll:function(e){if("undefined"!==typeof window){var a=window.scrollY||e.target.scrollTop||0;this.fab=a>20}},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.isDragging=!1;var a=e.dataTransfer.files;for(var t in a)isNaN(t)||this.files.push(a[t]);this.applyChanges()},onDragEnter:function(e){e.preventDefault(),this.isDragging=!0,this.dragCount++},onDragLeave:function(e){e.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},applyChanges:function(){var e=this;console.log("files changed."),this.readyForAggregate=!1,this.csvReadCompleted=!1,this.csvDataList=[];var a=this,t=this.files.length,r=0;this.files.forEach((function(n){var o=new FileReader;o.onload=function(){var n=i.a.detect(o.result),s=i.a.convert(o.result,"UNICODE",n);e.$papa.parse(s,{header:!0,complete:function(e){a.csvDataList.push(e.data),t<=++r&&a.readCompleted()}})},o.readAsBinaryString(n)}))},readCompleted:function(){var e=this;this.csvReadCompleted=!0,this.csvDataHeaders=[],this.csvDataList.forEach((function(a){e.csvDataHeaders.push(Object.keys(a[0]))}))},applyHeaderKeyChanges:function(){var e=this;if(this.csvDataHeaders.length===Object.keys(this.selectedHeaderKey).length){var a=!0;Object.keys(this.selectedHeaderKey).forEach((function(t){e.selectedHeaderKey[t]||(a=!1)})),this.readyForAggregate=a}else this.readyForAggregate=!1},aggregate:function(){var e=this,a=this.csvDataList[0];a.map((function(a){var t=e.csvDataList[1].filter((function(t){return console.log("row1 key: "+a[e.selectedHeaderKey[0]]+", row2 key: "+t[e.selectedHeaderKey[1]]),t[e.selectedHeaderKey[1]]===a[e.selectedHeaderKey[0]]}));return 0===t.length?a:Object.assign(a,t[0])}));var t={delimiter:",",header:!0,newline:"\r\n"},r=this.$papa.unparse(a,t),n=i.a.stringToCode(r),o=this.encodeToSJIS?i.a.convert(n,"SJIS","UNICODE"):i.a.convert(n,"UTF8","UNICODE"),s=new Uint8Array(o),c=new Blob([s],{type:"text/csv"}),l=document.createElement("a");l.download=this.encodeToSJIS?"result_sjis.csv":"result.csv",window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,l.download):window.URL&&window.URL.createObjectURL?(l.href=window.URL.createObjectURL(c),document.body.appendChild(l),l.click(),document.body.removeChild(l)):window.webkitURL&&window.webkitURL.createObject?(l.href=(window.URL||window.webkitURL).createObjectURL(c),l.click()):window.open("data:type/csv;base64,".concat(window.Base64.encode(this.state.content)),"_blank")}}},d=l,u=t("2877"),p=t("6544"),v=t.n(p),f=t("7496"),g=t("8336"),h=t("b0af"),b=t("ac7c"),y=t("cc20"),m=t("62ad"),w=t("a523"),_=t("23a7"),k=t("132d"),D=t("f6c4"),S=t("67b6"),C=t("43a6"),T=t("0fd9"),x=t("71a3"),O=t("c671"),I=t("fe57"),L=t("aac8"),V=t("9a96"),j=t("269a"),H=t.n(j),R=t("f977"),U=Object(u["a"])(d,n,o,!1,null,null,null),A=U.exports;v()(U,{VApp:f["a"],VBtn:g["a"],VCard:h["a"],VCheckbox:b["a"],VChip:y["a"],VCol:m["a"],VContainer:w["a"],VFileInput:_["a"],VIcon:k["a"],VMain:D["a"],VRadio:S["a"],VRadioGroup:C["a"],VRow:T["a"],VTab:x["a"],VTabItem:O["a"],VTabs:I["a"],VTabsItems:L["a"],VTabsSlider:V["a"]}),H()(U,{Scroll:R["a"]});var E=t("f309");r["a"].use(E["a"]);var K=new E["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:K,render:function(e){return e(A)}}).$mount("#app")}});
//# sourceMappingURL=app.95d58a10.js.map